<!--
  Copyright 2026 John Kost
  Licensed under the Apache License, Version 2.0
-->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ReMixr IDE</title>
  <link rel="stylesheet" href="popup.css">
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap"
    rel="stylesheet">
  <!-- CodeMirror -->
  <link rel="stylesheet" href="lib/codemirror/codemirror.min.css">
  <link rel="stylesheet" href="lib/codemirror/theme/dracula.min.css">
</head>

<body>

  <div class="container">
    <!-- Header -->
    <header>
      <h1>ReMixr IDE</h1>
      <p class="tagline">Meta-Extension Builder</p>
    </header>

    <!-- Navigation -->
    <nav class="tabs">
      <button class="tab-btn active" data-tab="projects">Projects</button>
      <button class="tab-btn" data-tab="templates">Templates</button>
      <button class="tab-btn" data-tab="code">Code</button>
      <button class="tab-btn" data-tab="ui">UI</button>
      <button class="tab-btn" data-tab="analyzer">Inspector</button>
      <button class="tab-btn" data-tab="tools">Tools</button>
    </nav>

    <!-- CONTENT AREAS -->

    <!-- Projects Tab -->
    <div id="projects-tab" class="tab-content active">
      <div class="section">
        <h2>Your Projects</h2>

        <div id="projects-list" class="projects-list">
          <!-- Populated by JS -->
          <div class="empty-state">No projects found. Start building!</div>
        </div>
      </div>
    </div>

    <!-- Templates Tab -->
    <div id="templates-tab" class="tab-content">
      <div class="section">
        <h2>Quick Templates</h2>
        <div class="templates-grid">
          <div class="template-card" data-template="starter">
            <div class="template-icon">ğŸš€</div>
            <h3>Starter</h3>
            <p>Empty Boilerplate</p>
          </div>
          <div class="template-card" data-template="content-modifier">
            <div class="template-icon">ğŸ¨</div>
            <h3>Modifier</h3>
            <p>Inject CSS/JS</p>
          </div>
          <div class="template-card" data-template="data-extractor">
            <div class="template-icon">ğŸ“Š</div>
            <h3>Scraper</h3>
            <p>Extract Data</p>
          </div>
          <div class="template-card" data-template="productivity">
            <div class="template-icon">â±ï¸</div>
            <h3>Timer</h3>
            <p>Productivity</p>
          </div>
          <div class="template-card" data-template="popup-tool">
            <div class="template-icon">ğŸ”§</div>
            <h3>Utility</h3>
            <p>Popup Tool</p>
          </div>
          <div class="template-card" data-template="tab-manager">
            <div class="template-icon">ğŸ“‘</div>
            <h3>Tab Manager</h3>
            <p>Organize Tabs</p>
          </div>
          <div class="template-card" data-template="bookmark-organizer">
            <div class="template-icon">ğŸ”–</div>
            <h3>Bookmarks</h3>
            <p>Search & Save</p>
          </div>
          <div class="template-card" data-template="form-filler">
            <div class="template-icon">ğŸ“</div>
            <h3>Form Filler</h3>
            <p>Auto-Fill Forms</p>
          </div>
          <div class="template-card" data-template="dark-mode">
            <div class="template-icon">ğŸŒ™</div>
            <h3>Dark Mode</h3>
            <p>Universal Theme</p>
          </div>
          <div class="template-card" data-template="ad-blocker">
            <div class="template-icon">ğŸ›¡ï¸</div>
            <h3>Ad Blocker</h3>
            <p>Block Ads</p>
          </div>
          <div class="template-card" data-template="screenshot-tool">
            <div class="template-icon">ğŸ“¸</div>
            <h3>Screenshot</h3>
            <p>Capture Pages</p>
          </div>
          <div class="template-card" data-template="password-generator">
            <div class="template-icon">ğŸ”</div>
            <h3>Password Gen</h3>
            <p>Secure Passwords</p>
          </div>
          <div class="template-card" data-template="note-taker">
            <div class="template-icon">ğŸ“</div>
            <h3>Quick Notes</h3>
            <p>Take Notes</p>
          </div>
        </div>

        <div style="height: 32px;"></div>

        <h2>Extension Wizard</h2>

        <!-- Extension Wizard -->
        <div class="wizard-container">
          <div class="wizard-header">
            <div class="wizard-icon">âœ¨</div>
            <div>
              <h3 style="margin: 0; font-size: 16px; font-weight: 600;">Scaffold Chrome Extension</h3>
              <p style="margin: 4px 0 0 0; font-size: 13px; color: var(--text-secondary);">Configure features and
                generate your extension structure</p>
            </div>
          </div>

          <div class="wizard-section">
            <label class="wizard-label">Extension Name</label>
            <input type="text" id="wizard-name" class="wizard-input" placeholder="My Awesome Extension">
          </div>

          <div class="wizard-section">
            <label class="wizard-label">Description</label>
            <input type="text" id="wizard-description" class="wizard-input"
              placeholder="Enhance your browsing experience">
          </div>

          <div class="wizard-section">
            <label class="wizard-label">Extension Type</label>
            <div class="wizard-radio-group">
              <label class="wizard-radio">
                <input type="radio" name="ext-type" value="content-script" checked>
                <span>Content Script (Modify Pages)</span>
              </label>
              <label class="wizard-radio">
                <input type="radio" name="ext-type" value="popup">
                <span>Browser Action (Popup)</span>
              </label>
              <label class="wizard-radio">
                <input type="radio" name="ext-type" value="side-panel">
                <span>Side Panel</span>
              </label>
              <label class="wizard-radio">
                <input type="radio" name="ext-type" value="page-action">
                <span>Page Action (Contextual)</span>
              </label>
            </div>
          </div>

          <div class="wizard-section">
            <label class="wizard-label">Features</label>
            <div class="wizard-checkbox-grid">
              <label class="wizard-checkbox">
                <input type="checkbox" id="feat-background">
                <span>Background Service Worker</span>
              </label>
              <label class="wizard-checkbox">
                <input type="checkbox" id="feat-storage">
                <span>Local Storage</span>
              </label>
              <label class="wizard-checkbox">
                <input type="checkbox" id="feat-tabs">
                <span>Tab Management</span>
              </label>
              <label class="wizard-checkbox">
                <input type="checkbox" id="feat-context-menu">
                <span>Context Menu Items</span>
              </label>
              <label class="wizard-checkbox">
                <input type="checkbox" id="feat-notifications">
                <span>Notifications</span>
              </label>
              <label class="wizard-checkbox">
                <input type="checkbox" id="feat-bookmarks">
                <span>Bookmarks Access</span>
              </label>
              <label class="wizard-checkbox">
                <input type="checkbox" id="feat-history">
                <span>History Access</span>
              </label>
              <label class="wizard-checkbox">
                <input type="checkbox" id="feat-downloads">
                <span>Download Management</span>
              </label>
              <label class="wizard-checkbox">
                <input type="checkbox" id="feat-cookies">
                <span>Cookie Access</span>
              </label>
              <label class="wizard-checkbox">
                <input type="checkbox" id="feat-web-request">
                <span>Network Interception</span>
              </label>
            </div>
          </div>

          <div class="wizard-section">
            <label class="wizard-label">Host Permissions</label>
            <div class="wizard-radio-group">
              <label class="wizard-radio">
                <input type="radio" name="host-perms" value="active-tab" checked>
                <span>Active Tab Only</span>
              </label>
              <label class="wizard-radio">
                <input type="radio" name="host-perms" value="all-urls">
                <span>All Websites</span>
              </label>
              <label class="wizard-radio">
                <input type="radio" name="host-perms" value="custom">
                <span>Custom Domains</span>
              </label>
            </div>
            <input type="text" id="wizard-custom-hosts" class="wizard-input" placeholder="https://example.com/*"
              style="display: none; margin-top: 12px;">
          </div>

          <div class="wizard-section">
            <label class="wizard-label">UI Framework (Optional)</label>
            <select id="wizard-framework" class="wizard-select">
              <option value="vanilla">Vanilla JavaScript</option>
              <option value="react">React</option>
              <option value="vue">Vue</option>
              <option value="svelte">Svelte</option>
            </select>
          </div>

          <div class="wizard-section">
            <label class="wizard-label">Behaviors</label>
            <div class="wizard-checkbox-grid">
              <label class="wizard-checkbox">
                <input type="checkbox" id="behavior-match-site">
                <span>Match Parent Site Style</span>
              </label>
              <label class="wizard-checkbox">
                <input type="checkbox" id="behavior-auto-open">
                <span>Auto-Open Side Panel</span>
              </label>
              <label class="wizard-checkbox">
                <input type="checkbox" id="behavior-persist-state">
                <span>Persist State</span>
              </label>
              <label class="wizard-checkbox">
                <input type="checkbox" id="behavior-keyboard">
                <span>Keyboard Shortcuts</span>
              </label>
              <label class="wizard-checkbox">
                <input type="checkbox" id="behavior-badge">
                <span>Badge Notifications</span>
              </label>
              <label class="wizard-checkbox">
                <input type="checkbox" id="behavior-auto-run">
                <span>Auto-Run on Load</span>
              </label>
              <label class="wizard-checkbox">
                <input type="checkbox" id="behavior-sync">
                <span>Sync Across Devices</span>
              </label>
              <label class="wizard-checkbox">
                <input type="checkbox" id="behavior-theme">
                <span>Theme Support</span>
              </label>
              <label class="wizard-checkbox">
                <input type="checkbox" id="behavior-analytics">
                <span>Usage Analytics</span>
              </label>
              <label class="wizard-checkbox">
                <input type="checkbox" id="behavior-hotreload">
                <span>Hot Reload Dev Mode</span>
              </label>
              <label class="wizard-checkbox">
                <input type="checkbox" id="behavior-error-tracking">
                <span>Error Tracking</span>
              </label>
            </div>
          </div>

          <button id="generate-extension-btn" class="btn btn-primary" style="width: 100%; margin-top: 8px;">
            Generate Extension
          </button>
        </div>
      </div>
    </div>

    <!-- Code Tab -->
    <div id="code-tab" class="tab-content">
      <div class="vscode-layout">
        <!-- Sidebar -->
        <div class="vscode-sidebar">
          <div class="sidebar-header">
            <span>EXPLORER</span>
            <span class="header-actions">...</span>
          </div>

          <div class="sidebar-content">
            <!-- Project Name -->
            <div class="vscode-section">
              <div class="vscode-section-header">PROJECT</div>
              <div class="vscode-section-content">
                <input type="text" id="project-name" placeholder="Extension Name" class="vscode-input">
              </div>
            </div>

            <!-- File Explorer -->
            <div class="vscode-section">
              <div class="vscode-section-header">FILES</div>
              <div class="vscode-section-content" style="padding: 0;">
                <div class="file-tree" id="file-tree">
                  <!-- Dynamically populated -->
                </div>
              </div>
            </div>

            <!-- Feature Injector -->
            <div class="vscode-section collapsed">
              <div class="vscode-section-header" id="feature-injector-toggle">FEATURE INJECTOR</div>
              <div class="vscode-section-content" id="feature-injector-content" style="display: none;">
                <p class="feature-injector-description" style="font-size: 10px; opacity: 0.7; margin-bottom: 12px;">
                  Modify and enhance your project dynamically</p>

                <h4 class="injector-category">Identity & Type</h4>
                <input type="text" id="inject-name" class="vscode-input" placeholder="Update Name"
                  style="margin-bottom: 4px !important;">
                <input type="text" id="inject-description" class="vscode-input" placeholder="Update Description"
                  style="margin-bottom: 8px !important;">

                <div class="wizard-radio-group">
                  <label class="wizard-radio"><input type="radio" name="inject-ext-type" value="none" checked><span>Keep
                      Original</span></label>
                  <label class="wizard-radio"><input type="radio" name="inject-ext-type"
                      value="content-script"><span>Content Script</span></label>
                  <label class="wizard-radio"><input type="radio" name="inject-ext-type"
                      value="popup"><span>Popup</span></label>
                  <label class="wizard-radio"><input type="radio" name="inject-ext-type" value="side-panel"><span>Side
                      Panel</span></label>
                  <label class="wizard-radio"><input type="radio" name="inject-ext-type" value="page-action"><span>Page
                      Action</span></label>
                </div>

                <h4 class="injector-category">Core Features</h4>
                <div class="feature-injector-grid">
                  <label class="feature-checkbox"><input type="checkbox" id="inject-storage"><span>ğŸ’¾
                      Storage</span></label>
                  <label class="feature-checkbox"><input type="checkbox" id="inject-tabs"><span>ğŸ“‘ Tabs</span></label>
                  <label class="feature-checkbox"><input type="checkbox" id="inject-notifications"><span>ğŸ””
                      Notifications</span></label>
                  <label class="feature-checkbox"><input type="checkbox" id="inject-context-menu"><span>ğŸ“‹ Context
                      Menu</span></label>
                  <label class="feature-checkbox"><input type="checkbox" id="inject-background"><span>âš™ï¸
                      Background</span></label>
                  <label class="feature-checkbox"><input type="checkbox" id="inject-bookmarks"><span>ğŸ”–
                      Bookmarks</span></label>
                  <label class="feature-checkbox"><input type="checkbox" id="inject-history"><span>ğŸ“œ
                      History</span></label>
                  <label class="feature-checkbox"><input type="checkbox" id="inject-downloads"><span>â¬‡ï¸
                      Downloads</span></label>
                  <label class="feature-checkbox"><input type="checkbox" id="inject-cookies"><span>ğŸª
                      Cookies</span></label>
                  <label class="feature-checkbox"><input type="checkbox" id="inject-web-request"><span>ğŸŒ Web
                      Request</span></label>
                </div>

                <h4 class="injector-category">UI Components</h4>
                <div class="feature-injector-grid">
                  <label class="feature-checkbox"><input type="checkbox" id="inject-side-panel"><span>ğŸ“± Side
                      Panel</span></label>
                  <label class="feature-checkbox"><input type="checkbox" id="inject-theme"><span>ğŸŒ“ Theme
                      Toggle</span></label>
                  <label class="feature-checkbox"><input type="checkbox" id="inject-keyboard"><span>âŒ¨ï¸
                      Keyboard</span></label>
                  <label class="feature-checkbox"><input type="checkbox" id="inject-badge"><span>ğŸ”´ Badge</span></label>
                </div>

                <h4 class="injector-category">Host Permissions</h4>
                <div class="wizard-radio-group">
                  <label class="wizard-radio"><input type="radio" name="inject-host-perms" value="active-tab"
                      checked><span>Active Tab Only</span></label>
                  <label class="wizard-radio"><input type="radio" name="inject-host-perms" value="all-urls"><span>All
                      Websites</span></label>
                  <label class="wizard-radio"><input type="radio" name="inject-host-perms" value="custom"><span>Custom
                      Domains</span></label>
                </div>
                <input type="text" id="inject-custom-hosts" class="vscode-input" placeholder="https://example.com/*"
                  style="display: none; margin-top: 4px !important;">

                <h4 class="injector-category">UI Framework</h4>
                <select id="inject-framework" class="vscode-input"
                  style="background: var(--bg-tertiary); cursor: pointer;">
                  <option value="none">Keep Original</option>
                  <option value="vanilla">Vanilla JS</option>
                  <option value="react">React</option>
                  <option value="vue">Vue</option>
                  <option value="svelte">Svelte</option>
                </select>

                <h4 class="injector-category">Behaviors</h4>
                <div class="feature-injector-grid">
                  <label class="feature-checkbox"><input type="checkbox" id="inject-sync-storage"><span>â˜ï¸ Sync
                      Store</span></label>
                  <label class="feature-checkbox"><input type="checkbox" id="inject-auto-open"><span>ğŸš€
                      Auto-Open</span></label>
                  <label class="feature-checkbox"><input type="checkbox" id="inject-persist-state"><span>ğŸ’¿
                      Persist</span></label>
                  <label class="feature-checkbox"><input type="checkbox" id="inject-match-site"><span>ğŸ¨ Match
                      Site</span></label>
                  <label class="feature-checkbox"><input type="checkbox" id="inject-auto-run"><span>âš¡
                      Auto-Run</span></label>
                  <label class="feature-checkbox"><input type="checkbox" id="inject-analytics"><span>ğŸ“Š
                      Analytics</span></label>
                  <label class="feature-checkbox"><input type="checkbox" id="inject-hot-reload"><span>ğŸ”¥ Hot
                      Reload</span></label>
                  <label class="feature-checkbox"><input type="checkbox" id="inject-error-tracking"><span>ğŸ›
                      Errors</span></label>
                </div>

                <button id="inject-features-btn" class="vscode-btn primary" style="width: 100%; margin-top: 16px;">âš¡
                  Inject Features</button>
              </div>
            </div>
          </div>

          <div class="sidebar-footer">
            <button id="save-project-btn" class="vscode-btn">ğŸ’¾ Save Project</button>
            <button id="test-extension-btn" class="vscode-btn primary">ğŸš€ Load Extension</button>
            <div style="display: flex; gap: 4px; width: 100%;">
              <button id="export-extension-btn" class="vscode-btn" style="flex:1; margin: 0;">ğŸ“¦ ZIP</button>
              <button id="preview-btn" class="vscode-btn" style="flex:1; margin: 0;">ğŸ‘ï¸ Preview</button>
            </div>
          </div>
        </div>

        <!-- Main Editor Area -->
        <div class="vscode-main">
          <div class="editor-tabs">
            <div class="editor-tab active">
              <span id="current-file">manifest.json</span>
            </div>
          </div>

          <div class="editor-section">
            <textarea id="code-editor"></textarea>
          </div>


          <!-- Preview Modal -->
          <div id="preview-container"
            style="display: none; padding: 12px; border-top: 1px solid #007acc; background: #1e1e1e;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px;">
              <h3 style="font-size: 11px; color: var(--text-dim);">PREVIEW</h3>
              <button id="close-preview" class="btn btn-secondary btn-small">Close</button>
            </div>
            <div style="background:#fff; border-radius:4px; overflow: hidden;">
              <iframe id="preview-frame" style="width:100%; height:250px; border:none;"></iframe>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- UI Tab -->
    <div id="ui-tab" class="tab-content">
      <div class="shiny-container">
        <!-- Sidebar - Chat & Context -->
        <div class="shiny-sidebar">
          <div class="shiny-sidebar-header">
            <h3>Visual Designer</h3>
            <div class="ai-status">
              <span class="status-dot"></span> Online
            </div>
          </div>
          <div class="shiny-chat-history" id="shiny-chat-history">
            <div class="chat-message ai">
              <div class="chat-icon">âœ¨</div>
              <div class="chat-bubble">
                Hello! I'm your Visual Design Assistant. Describe the UI you want to build, and I'll generate it in the
                canvas.
                <br><br>
                Try: <em>"A sleek dark-mode dashboard with a sidebar and a task list."</em>
              </div>
            </div>
          </div>
          <div class="shiny-input-area">
            <div class="input-wrapper">
              <textarea id="shiny-prompt" placeholder="Message Visual AI..."></textarea>
              <button id="shiny-generate-btn" title="Generate UI">
                <svg viewBox="0 0 24 24" width="20" height="20" fill="white">
                  <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path>
                </svg>
              </button>
            </div>
          </div>
        </div>

        <!-- Main - Canvas & Properties -->
        <div class="shiny-main">
          <div class="shiny-toolbar">
            <div class="toolbar-left">
              <div class="view-toggles">
                <button class="view-btn active" data-view="desktop" title="Desktop View">ğŸ–¥ï¸</button>
                <button class="view-btn" data-view="mobile" title="Mobile View">ğŸ“±</button>
              </div>
            </div>
            <div class="toolbar-center">
              <span id="shiny-project-title">shiny_project_1</span>
            </div>
            <div class="toolbar-right">
              <button id="shiny-code-toggle" class="btn btn-small btn-secondary">Code</button>
              <button id="shiny-publish-btn" class="btn btn-small btn-primary">Publish</button>
            </div>
          </div>

          <div class="shiny-canvas-area">
            <div id="canvas-wrapper" class="canvas-wrapper desktop">
              <div class="canvas-chrome">
                <div class="chrome-dots"><span></span><span></span><span></span></div>
                <div class="chrome-address">re-mixr://preview</div>
              </div>
              <div class="iframe-container">
                <iframe id="shiny-preview-frame"></iframe>
                <div id="canvas-overlay" class="canvas-overlay">
                  <div class="loader-container" style="display: none;">
                    <div class="shiny-loader"></div>
                    <p>Brewing your UI...</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="shiny-quick-controls">
            <div class="control-group">
              <label>Theme</label>
              <div class="swatch-group">
                <button class="swatch dark active" data-theme="dark" title="Dark Mode"></button>
                <button class="swatch light" data-theme="light" title="Light Mode"></button>
                <button class="swatch glass" data-theme="glass" title="Glassmorphism"></button>
              </div>
            </div>
            <div class="control-divider"></div>
            <div class="control-group">
              <label>Accent</label>
              <div class="accent-wrapper">
                <input type="color" id="shiny-accent-picker" value="#6366f1">
              </div>
            </div>
            <div class="control-divider"></div>
            <div class="control-group">
              <button id="shiny-magic-polish" class="btn btn-small btn-secondary">ğŸª„ Polish</button>
              <button id="shiny-undo" class="btn btn-small btn-secondary" title="Undo">â†©ï¸</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Analyzer/Inspector Tab -->
    <div id="analyzer-tab" class="tab-content">
      <div class="section">
        <div class="analyzer-controls">
          <div class="analyzer-card">
            <div class="card-header">
              <h3>Diagnostic Suite</h3>
              <label class="switch" title="Real-time element inspection overlay">
                <input type="checkbox" id="inspector-toggle">
                <span class="slider"></span>
              </label>
            </div>
            <p style="font-size: 11px; color: var(--text-dim); margin-top: 6px;">
              Toggle the Inspector to highlight elements directly on the page.
            </p>
          </div>

          <div class="suite-header">
            <h2>Scan Suite</h2>
            <div class="suite-tag">Internal Engines</div>
          </div>
          <div class="tools-grid">
            <button id="scan-visualize" class="tool-btn" title="Generate a DOM tree graph">
              <span class="icon">ğŸ•¸ï¸</span> <span class="tool-btn-label">Graph</span>
            </button>
            <button id="scan-sequence" class="tool-btn" title="Generate a UML Sequence diagram of page logic">
              <span class="icon">ğŸ§¬</span> <span class="tool-btn-label">Sequence</span>
            </button>
            <button id="scan-structure" class="tool-btn" title="Analyze element counts and nesting">
              <span class="icon">ğŸ—ï¸</span> <span class="tool-btn-label">Struct</span>
            </button>
            <button id="scan-palette" class="tool-btn" title="Extract page color palette">
              <span class="icon">ğŸ¨</span> <span class="tool-btn-label">Palette</span>
            </button>
            <button id="scan-assets" class="tool-btn" title="Audit resources">
              <span class="icon">ğŸ“¦</span> <span class="tool-btn-label">Assets</span>
            </button>
            <button id="scan-fonts" class="tool-btn" title="Identify fonts">
              <span class="icon">ğŸ”¤</span> <span class="tool-btn-label">Fonts</span>
            </button>
            <button id="scan-storage" class="tool-btn" title="Audit LocalStorage & Cookies">
              <span class="icon">ğŸ’¾</span> <span class="tool-btn-label">Storage</span>
            </button>
            <button id="scan-workers" class="tool-btn" title="List service workers">
              <span class="icon">âš™ï¸</span> <span class="tool-btn-label">Worker</span>
            </button>
            <button id="scan-a11y" class="tool-btn" title="Accessibility health check (Alt text, Contrast, Labels)">
              <span class="icon">â™¿</span> A11y
            </button>
            <button id="scan-seo" class="tool-btn" title="SEO health check (Meta tags, Headings, Links)">
              <span class="icon">ğŸ“ˆ</span> SEO
            </button>
            <button id="scan-code" class="tool-btn" title="Code Visualizer: Analyze scripts and code distribution">
              <span class="icon">ğŸ“œ</span> Code
            </button>
            <button id="scan-net" class="tool-btn" title="Network Visualizer: Analyze XHR/Fetch and API traffic">
              <span class="icon">ğŸŒ</span> Network
            </button>
            <button id="scan-perf" class="tool-btn" title="Measure page load times">
              <span class="icon">âš¡</span> <span class="tool-btn-label">Perf</span>
            </button>
            <button id="scan-stack" class="tool-btn" title="Identify libraries">
              <span class="icon">ğŸ§¬</span> <span class="tool-btn-label">Stack</span>
            </button>
            <button id="scan-psyche" class="tool-btn"
              title="Psychological Pattern Analysis - Dark patterns, persuasion, manipulation">
              <span class="icon">ğŸ§ </span> <span class="tool-btn-label">Psyche</span>
            </button>
            <button id="scan-archetype" class="tool-btn" title="Brand Archetype & Symbolic Analysis">
              <span class="icon">ğŸ­</span> <span class="tool-btn-label">Archetype</span>
            </button>
            <button id="scan-soul" class="tool-btn" title="Soul Analysis - Authenticity, intention, coherence">
              <span class="icon">âœ¨</span> <span class="tool-btn-label">Soul</span>
            </button>
            <button id="scan-shadow" class="tool-btn"
              title="Shadow Analysis - Hidden manipulations, deceptive patterns">
              <span class="icon">ğŸŒ‘</span> <span class="tool-btn-label">Shadow</span>
            </button>
            <button id="scan-rhetoric" class="tool-btn"
              title="Rhetorical Analysis - Linguistic patterns, persuasion techniques">
              <span class="icon">ğŸ“œ</span> <span class="tool-btn-label">Rhetoric</span>
            </button>
            <button id="scan-emotion" class="tool-btn"
              title="Emotional Design Analysis - Psychology of colors, typography, space">
              <span class="icon">ğŸ’­</span> <span class="tool-btn-label">Emotion</span>
            </button>
          </div>
        </div>

        <div id="analysis-results" class="results-area" style="display: none;">
          <div class="results-header">
            <strong id="result-title">Analysis Results</strong>
            <div class="results-header-actions">
              <button id="fullscreen-toggle" class="fullscreen-btn" title="Toggle Fullscreen">â›¶</button>
              <span id="clear-results">Clear</span>
            </div>
          </div>
          <div id="result-content"></div>
          <div id="d3-container" style="display: none;"></div>
        </div>
      </div>
    </div>


    <!-- Tools Tab -->
    <div id="tools-tab" class="tab-content">
      <div class="section">
        <div class="suite-header">
          <h2>Operation Suite</h2>
          <div class="suite-tag">Quick Actions</div>
        </div>
        <div class="tools-grid">
          <button id="tool-edit" class="tool-btn" title="Toggle universal edit mode">
            <span class="icon">âœï¸</span> <span class="tool-btn-label">Edit</span>
          </button>
          <button id="tool-zap" class="tool-btn" title="Remove element from DOM">
            <span class="icon">âš¡</span> <span class="tool-btn-label">Zap</span>
          </button>
          <button id="tool-wireframe" class="tool-btn" title="Toggle wireframe mode">
            <span class="icon">ğŸ–¼ï¸</span> <span class="tool-btn-label">Wire</span>
          </button>
          <button id="tool-images" class="tool-btn" title="Toggle image visibility">
            <span class="icon">ğŸ‘ï¸</span> <span class="tool-btn-label">Images</span>
          </button>
          <button id="tool-unmask" class="tool-btn" title="Show password fields">
            <span class="icon">ğŸ”‘</span> <span class="tool-btn-label">Unmask</span>
          </button>
          <button id="tool-enable" class="tool-btn" title="Enable disabled inputs">
            <span class="icon">ğŸ”“</span> <span class="tool-btn-label">Inputs</span>
          </button>
          <button id="tool-kill-sticky" class="tool-btn" title="Remove sticky elements">
            <span class="icon">ğŸ©¹</span> <span class="tool-btn-label">Stickies</span>
          </button>
          <button id="tool-pii" class="tool-btn" title="Scan for emails">
            <span class="icon">ğŸ“§</span> <span class="tool-btn-label">Emails</span>
          </button>
          <button id="tool-export-links" class="tool-btn" title="Extract links">
            <span class="icon">ğŸ”—</span> <span class="tool-btn-label">Links</span>
          </button>
          <button id="tool-export-colors" class="tool-btn" title="Extract colors">
            <span class="icon">ğŸ¨</span> <span class="tool-btn-label">Colors</span>
          </button>
          <button id="tool-screenshot" class="tool-btn" title="Take screenshot">
            <span class="icon">ğŸ“¸</span> <span class="tool-btn-label">Shot</span>
          </button>
          <button id="tool-console" class="tool-btn" title="Inject console">
            <span class="icon">ğŸ’»</span> <span class="tool-btn-label">Console</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Status Bar & Toast moved inside container -->
    <div id="status" class="status"></div>
  </div>




  <!-- Scripts -->
  <script src="lib/d3.v7.min.js"></script>
  <script src="lib/jszip.min.js"></script>
  <!-- CodeMirror -->
  <script src="lib/codemirror/codemirror.min.js"></script>
  <script src="lib/codemirror/mode/javascript.min.js"></script>
  <script src="lib/codemirror/mode/css.min.js"></script>
  <script src="lib/codemirror/mode/xml.min.js"></script>
  <script src="lib/codemirror/mode/htmlmixed.min.js"></script>

  <script src="popup.js"></script>
  <script src="export.js"></script>
</body>

</html>